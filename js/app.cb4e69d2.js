(function(e){function t(t){for(var o,a,u=t[0],l=t[1],i=t[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,u=1;u<n.length;u++){var l=n[u];0!==r[l]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"6c79":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t){var n=Object(o["t"])("router-view");return Object(o["o"])(),Object(o["e"])(n)}const c={};c.render=r;var a=c,u=n("6c02");function l(e,t){return null}const i={};i.render=l;var s=i;function f(e,t,n,r,c,a){var u=Object(o["t"])("book-list"),l=Object(o["t"])("router-view");return Object(o["o"])(),Object(o["e"])(o["a"],null,[Object(o["f"])(u),Object(o["f"])(l)],64)}var d={class:"book-list mt-24"},b={class:"h-100 w-8/12 flex flex-col m-auto flex-nowrap md:flex-row"},p={class:"flex justify-center"},v=Object(o["f"])("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),h=Object(o["f"])("path",{d:"M18 15l-6-6l-6 6h12",transform:"rotate(270 12 12)"},null,-1),m=Object(o["f"])("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),j=Object(o["f"])("path",{d:"M18 15l-6-6l-6 6h12",transform:"rotate(90 12 12)"},null,-1);function w(e,t,n,r,c,a){var u=Object(o["t"])("book-card");return Object(o["o"])(),Object(o["e"])("div",d,[Object(o["f"])("div",b,[Object(o["f"])(o["b"],{name:"fade"},{default:Object(o["y"])((function(){return[(Object(o["o"])(!0),Object(o["e"])(o["a"],null,Object(o["s"])(e.filterList,(function(t){return Object(o["o"])(),Object(o["e"])(u,{key:t.id,book:t,onClick:function(n){return e.clickBookHandler(t.id)},"selected-id":e.selectId},null,8,["book","onClick","selected-id"])})),128))]})),_:1})]),Object(o["f"])("div",p,[Object(o["f"])("button",{class:"focus:outline-none",onClick:t[1]||(t[1]=function(){return e.pervBook&&e.pervBook.apply(e,arguments)})},[(Object(o["o"])(),Object(o["e"])("svg",{class:["h-10 w-10 text-gray-800","leftmost"==e.listStatus?"opacity-50":"opacity-100"],width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[v,h],2))]),Object(o["f"])("button",{class:"focus:outline-none ",onClick:t[2]||(t[2]=function(){return e.nextBook&&e.nextBook.apply(e,arguments)})},[(Object(o["o"])(),Object(o["e"])("svg",{class:["h-10 w-10 text-gray-800","rightmost"==e.listStatus?"opacity-50":"opacity-100"],width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[m,j],2))])])])}n("fb6a");var O=n("1da1"),k=(n("96cf"),n("bc3a")),g=n.n(k),y={getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(t,{headers:{"Content-Type":"application/json"},responseType:"json"}).then((function(e){return e.data})).catch((function(e){alert(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},x={updateData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"patch",url:t,data:n,headers:{"Content-Type":"application/json",responseType:"json"}}).then((function(e){return e})).catch((function(e){alert(e)}));case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},C=function(){var e=Object(u["d"])(),t=Object(o["r"])([]),n=Object(o["r"])([]),r=Object(o["r"])(0),c=Object(o["r"])("leftmost"),a=Object(o["r"])(""),l=function(t){a.value=t+"",e.push("/books/"+t)},i=function(){y.getData("https://fe-interview-api.unnotech.com/books").then((function(e){t.value=e,n.value=e.slice(0,4)}))},s=function(){r.value>t.value.length-5?c.value="rightmost":(r.value++,r.value>t.value.length-5&&(c.value="rightmost"))},f=function(){r.value<=0?c.value="leftmost":(r.value--,r.value<=0&&(c.value="leftmost"))};return Object(o["x"])(r,(function(){n.value=t.value.slice(r.value,r.value+4)})),i(),{curIndex:r,nextBook:s,pervBook:f,filterList:n,listStatus:c,selectId:a,clickBookHandler:l}};n("b0c0");function B(e,t,n,r,c,a){return Object(o["o"])(),Object(o["e"])("div",{class:["book-card flex-1 m-2 rounded bg-white border-4 border-gray-500 border-opacity-50 cursor-pointer transform hover:-translate-y-2 hover:shadow-xl duration-200",e.book.id==e.selectedId?"-translate-y-2 shadow-xl border-yellow-500":"translate-y-0 * border-gray-500"],onClick:t[1]||(t[1]=function(t){return e.$emit("click",e.book.id)})},[Object(o["f"])("img",{src:e.book.image,alt:"book.name",class:"object-contain m-auto w-50 h-60 p-3"},null,8,["src"]),Object(o["f"])("h1",{class:["p-3 h-20 text-sm",e.book.id==e.selectedId?"bg-yellow-300":"bg-gray-300"]},Object(o["v"])(e.book.name),3)],2)}var M=Object(o["g"])({name:"BookCard",props:{book:Object,selectedId:String}});M.render=B;var D=M,P={props:{id:String},components:{BookCard:D},setup:function(e){return C()}};P.render=w;var H=P,S=Object(o["g"])({name:"Home",components:{BookList:H}});S.render=f;var I=S,_={class:"detail bg-gray-200 bg-opacity-75 shadow-md rounded px-8 pt-6 pb-8 mb-4 w-6/12 m-auto my-10 flex border-4 border-gray-500 border-opacity-50"},z={class:"input-container w-1/2"},T={class:"md:flex md:items-center my-6"},R=Object(o["f"])("div",{class:"md:w-1/4"},[Object(o["f"])("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"inline-full-name"}," 價格 ")],-1),L=Object(o["f"])("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(o["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J=Object(o["f"])("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(o["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),$={class:"md:flex md:items-center my-6"},q=Object(o["f"])("div",{class:"md:w-1/4"},[Object(o["f"])("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"inline-full-name"}," 數量 ")],-1),A=Object(o["f"])("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(o["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2 ",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),E=Object(o["f"])("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(o["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),F={class:"submit-button md:flex md:items-center w-1/2"},G=Object(o["f"])("div",{class:"md:w-1/3"},null,-1),K={class:"md:w-2/3"};function N(e,t,n,r,c,a){return Object(o["o"])(),Object(o["e"])("form",_,[Object(o["f"])("div",z,[Object(o["f"])("div",T,[R,Object(o["f"])("button",{onClick:t[1]||(t[1]=function(t){return e.reducePrice()}),class:"md:w-1/8 focus:outline-none hover:text-yellow-500"},[L]),Object(o["f"])("input",{class:"md:w-2/4 bg-gray-300 appearance-none rounded w-full py-2 mx-8 text-center text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-yellow-500",type:"number",placeholder:e.bookDetail.price},null,8,["placeholder"]),Object(o["f"])("button",{onClick:t[2]||(t[2]=function(t){return e.addPrice()}),class:"md:w-1/8 focus:outline-none hover:text-yellow-500"},[J])]),Object(o["f"])("div",$,[q,Object(o["f"])("button",{onClick:t[3]||(t[3]=function(t){return e.reduceCount()}),class:"md:w-1/8 focus:outline-none hover:text-yellow-500"},[A]),Object(o["f"])("input",{class:"md:w-2/4 bg-gray-300 appearance-none rounded w-full py-2 mx-8 text-center text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-yellow-500",type:"number",placeholder:e.bookDetail.count},null,8,["placeholder"]),Object(o["f"])("button",{onClick:t[4]||(t[4]=function(t){return e.addCount()}),class:"md:w-1/8 focus:outline-none hover:text-yellow-500"},[E])])]),Object(o["f"])("div",F,[G,Object(o["f"])("div",K,[Object(o["f"])("button",{class:"shadow bg-yellow-500 hover:bg-yellow-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"button",onClick:t[5]||(t[5]=function(t){return e.submitData()})}," 確認修改 ")])])])}var Q=function(){var e=Object(u["c"])(),t=Object(o["r"])({}),n=Object(o["r"])({price:0,count:0}),r=function(){y.getData("https://fe-interview-api.unnotech.com/profile/"+e.params.bookId).then((function(e){t.value={price:e.price,count:e.count},n.value=e}))},c=function(){return n.value.price++},a=function(){if(n.value.price>0)return n.value.price--},l=function(){return n.value.count++},i=function(){if(n.value.count>0)return n.value.count--},s=Object(o["c"])((function(){return e.params.bookId}));function f(e,t){return console.log(e,t),e.count===t.count}function d(e,t){return e.price===t.price}var b=function(){f(t.value,n.value)&&d(t.value,n.value)?alert("請修改後再提交"):(console.log(1),x.updateData("https://fe-interview-api.unnotech.com/profile/"+s.value,{price:n.value.price,count:n.value.count}).then((function(e){200==e.status?alert("修改成功"):alert("網路異常")})))};return Object(o["x"])(s,(function(){r()})),r(),{addCount:l,reduceCount:i,addPrice:c,reducePrice:a,bookDetail:n,submitData:b}},U={setup:function(e){return Q()}};U.render=N;var V=U,W=[{path:"/:pathMatch(.*)*",redirect:"/books"},{path:"/books",name:"Books",component:I,children:[{path:"",name:"Home",component:s},{path:":bookId",name:"Detail",component:V,props:!0}]}],X=Object(u["a"])({history:Object(u["b"])(),routes:W}),Y=X;n("6c79");Object(o["d"])(a).use(Y).mount("#app")}});
//# sourceMappingURL=app.cb4e69d2.js.map